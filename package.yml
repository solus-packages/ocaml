name        : ocaml
version     : 4.02.3
release     : 1
homepage    : http://ocaml.org/
source      :
    - http://caml.inria.fr/distrib/ocaml-4.02/ocaml-4.02.3.tar.gz : 928fb5f64f4e141980ba567ff57b62d8dc7b951b58be9590ffb1be2172887a72
license     :
    - QPL-1.0
    - GPL-2.0
summary     : A functional language with OO extensions
description : |
    OCaml is an industrial strength programming language supporting functional, imperative and object-oriented styles
builddeps   :
    - pkgconfig(x11)
setup       : |
    ./configure -prefix /usr
build       : |
    %make world.opt
install     : |
    %make_install
    
    export compiler_libs="$installdir/usr/lib/ocaml/compiler-libs"
    mkdir -p "$compiler_libs"/{parsing,typing,utils}
    cp parsing/*.{cmi,cmo,cmx,ml,mli,mll,o} "$compiler_libs"/parsing
    cp typing/*.{cmi,cmo,cmx,ml,mli,o} "$compiler_libs"/typing
    cp utils/*.{cmi,cmo,cmx,ml,mli,o} "$compiler_libs"/utils
    
    rm -f "$compiler_libs"/typing/outcometree.{cmi,mli}